@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		--background: 240 7% 97%;
		--background-secondary: 240 10% 95%;

		--foreground: 220 20% 11%;
		--foreground-secondary: 236 8% 40%;
		--foreground-tertiary: 215, 16%, 47%;

		--brand: 222 89% 55%;

		--border: 210 11% 85%;
		--shadow-color: 60deg 10% 66%;
	}

	.dark {
		--background: 216 16% 7%;
		--background-secondary: 220 16% 9%;

		--foreground: 220 15% 93%;
		--foreground-secondary: 222 8% 75%;
		--foreground-tertiary: 215 12% 65%;

		--brand: 222 100% 62%;

		--border: 222 12% 14%;
		--shadow-color: 220deg 33% 1%;
	}

	::selection {
		background-color: #dbe0f7;
		color: hsl(var(--brand));
	}
	.dark ::selection {
		color: #abc2f7;
		background-color: #0e192f;
	}
}

@layer base {
	html {
		min-width: 340px;
	}
	* {
		@apply box-border border-border scroll-smooth;
		text-rendering: optimizeLegibility;
	}
	body {
		@apply bg-background text-foreground font-sans font-[450] tracking-[0.02em] antialiased leading-7 overflow-x-clip;
	}

	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		@apply font-medium tracking-tight;
	}
}

/* 	------------
	BLOG STYLES
	-----------	*/
.prose {
	@apply leading-[1.9] tracking-[0.02em] dark:prose-invert text-foreground-secondary prose-headings:font-medium prose-headings:text-foreground prose-headings:relative marker:text-foreground-secondary prose-hr:border-border;
	@apply prose-h2:text-3xl prose-h3:text-2xl prose-h4:text-xl;
}
.prose strong {
	@apply font-medium text-foreground;
}
.prose .c-link {
	@apply font-medium;
}
.prose figcaption .c-link {
	@apply pb-1 text-foreground-secondary hover:text-foreground;
}

/* Heading anchorlinks */
.prose .anchor {
	@apply absolute w-fit -left-5 px-2 no-underline transition text-foreground/30 opacity-0;
	cursor: pointer;
}
.prose .anchor:after {
	content: '#';
}
.prose .anchor:hover,
.prose *:hover > .anchor {
	@apply sm:opacity-100 transition -translate-x-3;
}

/* 
	Code blocks 
*/
/* Code block title tab */
figcaption[data-rehype-pretty-code-title] {
	@apply flex items-center border-b rounded-t-xl h-10 py-3 px-4 mt-0 text-sm text-foreground font-medium bg-background-secondary;
}

/* Code block body */
figure[data-rehype-pretty-code-figure] {
	@apply rounded-xl border shadow-sm;
}
figure[data-rehype-pretty-code-figure] pre {
	@apply overflow-x-auto py-4 px-0 text-sm leading-[26px] tracking-normal rounded-b-xl rounded-t-none bg-background-secondary 
		[&::-webkit-scrollbar]:h-2
		[&::-webkit-scrollbar-thumb]:rounded-xl
		[&::-webkit-scrollbar-thumb]:bg-gray-300
		dark:[&::-webkit-scrollbar-thumb]:bg-foreground-secondary/80;

	--code-foreground: #445175;
	--code-token-constant: #ef3997;
	--code-token-string: #3e4d75;
	--code-token-comment: #97a0b5;
	--code-token-keyword: hsl(var(--brand));
	--code-token-parameter: #ef3997;
	--code-token-function: #e49000;
	--code-token-string-expression: #ef3997;
	--code-token-punctuation: #445175;
	--code-token-link: hsl(var(--brand));
}
.dark figure[data-rehype-pretty-code-figure] pre {
	--code-foreground: #bccae7;
	--code-token-constant: #ff64aa;
	--code-token-string: #bccae7;
	--code-token-comment: #7b88a1;
	--code-token-keyword: #6593fe;
	--code-token-parameter: #ff64aa;
	--code-token-function: #efcd5d;
	--code-token-string-expression: #ff64aa;
	--code-token-punctuation: #bccae7;
	--code-token-link: #6593fe;
}

/* Code block lines */
figure[data-rehype-pretty-code-figure] pre [data-line] {
	@apply border-l-2 border-transparent px-4;
}
figure[data-rehype-pretty-code-figure] pre [data-highlighted-line] {
	@apply bg-brand/5 border-brand/80;
}

/* Code block line numbers */
code[data-line-numbers] {
	counter-reset: lineNumber;
}
code[data-line-numbers] [data-line]::before {
	@apply inline-block text-right mr-4 text-[#9ca3af]/80;
	counter-increment: lineNumber 1;
	content: counter(lineNumber);
}

/* Inline code */
.prose :not(pre) > code {
	@apply px-1.5 mx-0.5 py-0.5 rounded-md bg-background-secondary text-[13px] font-[450] border shadow-sm text-brand;
}
.prose :not(pre) > code::after,
.prose :not(pre) > code::before {
	@apply hidden;
}

/* Callouts */
.callout {
	background-color: rgba(var(--callout), 0.1);
	border-color: rgba(var(--callout), 0.25);
}
.callout[data-callout='info'] {
	--callout: 46, 104, 239;
}
.callout[data-callout='success'] {
	--callout: 83, 113, 61;
}
.callout[data-callout='thought'] {
	--callout: 95, 56, 202;
}
.callout[data-callout='warning'] {
	--callout: 165, 63, 71;
}
.dark .callout[data-callout='info'] {
	--callout: 102, 148, 255;
}
.dark .callout[data-callout='success'] {
	--callout: 152, 195, 121;
}
.dark .callout[data-callout='thought'] {
	--callout: 137, 120, 214;
}
.dark .callout[data-callout='warning'] {
	--callout: 224, 108, 117;
}

/* 	------------
	COMPONENTS
	-----------	*/
.c-link {
	@apply relative inline-flex items-center gap-x-0.5 no-underline whitespace-nowrap text-foreground hover:text-brand transition;
}
.c-link::before {
	position: absolute;
	bottom: 0.2em;
	height: 1.5px;
	width: 100%;
	background-color: hsl(var(--foreground-secondary));
	opacity: 50%;
	content: '';
	transition-property: all;
	transition-duration: 200ms;
}
.c-link:hover::before {
	@apply translate-y-1 transform-gpu;
	background-color: transparent;
}

.button::after {
	z-index: 0;
	overflow: hidden;
	position: absolute;
	content: '';
	display: block;
	width: 100%;
	height: 100%;
	border-radius: 8px;
	transition: border-color 0.2s ease 0s, background 0.3s ease 0s,
		transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0s;
}

.button:hover::after {
	border-radius: 10px;
	border: 2px solid hsl(var(--brand));
	transform: scale(0.92) translateZ(0);
	transition: border-color 0.2s ease 0s, background 0.3s ease 0s,
		transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) 0s;
}

.opacity-list:hover li,
.opacity-list:hover a {
	@apply transition-opacity;
	opacity: 0.5;
}
.opacity-list li:hover,
.opacity-list a:hover {
	opacity: 1;
}

/* 	------------
	OTHER
	-----------	*/
#gradient-canvas {
	width: 100%;
	height: 100%;
	--gradient-color-1: #3e5ca3;
	--gradient-color-2: #5286ff;
	--gradient-color-3: #7398f0;
	--gradient-color-4: #9cb1e0;
}

@media print {
	.navbar {
		display: none;
	}
}
